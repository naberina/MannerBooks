---
title: "ğŸ”° Strictãƒ¢ãƒ¼ãƒ‰('use strict')"
---
# 'use strict'ã‚’æ›¸ãç†ç”±ã‚’ç†è§£ã—ã¦ãŠã“ã†ï¼
![](https://storage.googleapis.com/zenn-user-upload/6a2add633a7801c2d07aa059.png =400x)

## ã¯ã˜ã‚ã«
kintoneã§JavaScriptã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚’ã™ã‚‹éš›ã«ã€ä¸€ç•ªæœ€åˆã®è¡Œã«æ›¸ãã“ã¨ã®å¤šã„`use strict`ã€‚
çš†ã•ã‚“ã¯ã©ã®ãã‚‰ã„æ„è­˜ã—ã¦ã“ã®1è¡Œã‚’æ›¸ã„ã¦ã„ã¾ã™ã‹ã€‚

## ãã‚‚ãã‚‚ã€Strictãƒ¢ãƒ¼ãƒ‰(å³æ ¼ãƒ¢ãƒ¼ãƒ‰)ã¨ã¯ï¼Ÿ
ã¾ãšã€ `strict` ã¨ã„ã†å˜èªã«æ³¨ç›®ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
ã“ã®å˜èªã¯ã€ã€Œå³ã—ã„ã€å³æ ¼ãªã€ç²¾å¯†ãªã€å®Œå…¨ãªã€ã¨ã„ã†æ„å‘³ã‚’æŒã¤å½¢å®¹è©ã§ã™ã€‚

ã¤ã¾ã‚Š `use strict;` ã¯ã€ã€Œå³æ ¼ãªãƒã‚§ãƒƒã‚¯ã‚’è¡Œã†ãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚
ã•ã‚‰ã«è©³ã—ããƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

> Strictãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€é€šå¸¸ã®JavaScriptã®æ„å‘³ã«ã„ãã¤ã‹ã®å¤‰æ›´ã‚’åŠ ãˆã¾ã™ã€‚ã‚¨ãƒ©ãƒ¼ã§ã¯ãªã„ãŒè½ã¨ã—ç©´ã«ãªã‚‹ä¸€éƒ¨ã®äº‹æŸ„ã‚’ã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‚ˆã†ã«å¤‰æ›´ã™ã‚‹ã“ã¨ã§é™¤å»ã—ã¾ã™ã€‚
>1. JavaScriptã‚¨ãƒ³ã‚¸ãƒ³ã«ã‚ˆã‚‹æœ€é©åŒ–å‡¦ç†ã‚’å›°é›£ã«ã™ã‚‹èª¤ã‚Šã‚’ä¿®æ­£ã—ã¾ã™ã€‚
>2. Strictãƒ¢ãƒ¼ãƒ‰ã®ã‚³ãƒ¼ãƒ‰ã¯ã€éStrict ãƒ¢ãƒ¼ãƒ‰ã®ã‚³ãƒ¼ãƒ‰ã‚ˆã‚Šé«˜é€Ÿã«å®Ÿè¡Œã§ãã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
>3. å°†æ¥ã®ECMAScriptã§å®šç¾©ã•ã‚Œã‚‹äºˆå®šã®æ§‹æ–‡ã®ä½¿ç”¨ã‚’ç¦æ­¢ã—ã¾ã™ã€‚
>
>[MDN Web Docs > Strict ãƒ¢ãƒ¼ãƒ‰](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Strict_mode)

ä»¥ä¸Šã®ã“ã¨ã‹ã‚‰ã€`use strict` ã¯äº‹å‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€ãƒŸã‚¹ã‚’é˜²ãã“ã¨ã«å½¹ç«‹ã¤1è¡Œã§ã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã—ãŸã€‚ã•ã‚‰ã«ã€ã©ã®æ§˜ãªã‚³ãƒ¼ãƒ‰ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ã‚‹ã®ã‹ç¢ºèªã—ãŸã„æ–¹ã¯ã€ä»¥ä¸‹ã§ç´¹ä»‹ã™ã‚‹ã€Œç‰¹å¾´ã€ã®å†…å®¹ã‚’èª­ã‚“ã§ã¿ã¦ãã ã•ã„ã€‚

## å…·ä½“ä¾‹
Strictãƒ¢ãƒ¼ãƒ‰ã‚’ **â‘ åˆ©ç”¨ã—ãªã‹ã£ãŸå ´åˆ**ã¨ã€
**â‘¡åˆ©ç”¨ã—ãŸå ´åˆ**ã«ã©ã®ã‚ˆã†ãªé•ã„ãŒã‚ã‚‹ã®ã‹ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

### â‘ `'use strict'` ã‚’åˆ©ç”¨ã—ã¦ã„ãªã„å ´åˆ
![](https://storage.googleapis.com/zenn-user-upload/8616a43f7c2d3ef28cebf44a.png)

å¤‰æ•°å®£è¨€(let, const, var)ã‚’ã—ã¦ã„ãªã„ `text_a` ã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã¨ã—ã¦å‡¦ç†ã•ã‚Œ`console.log(text_a);`ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚

ã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œã•ã‚ŒãŸãŸã‚ã€å•é¡Œãªãå‹•ä½œã—ã¦ã„ã‚‹...ã¨æ€ã£ãŸã‚‰å°‘ã—æ³¨æ„ã—ã¦ã¿ã¦ãã ã•ã„ã€‚
å®Ÿã¯ã€JavaScriptã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°å®šç¾©ã‚’æ¨å¥¨ã—ã¦ã„ã¾ã›ã‚“ã€‚
ã¾ãŸã€ã‚‚ã—æ„å›³ã›ãšèª¤ã£ã¦å¤‰æ•°å®£è¨€ãŒæŠœã‘ã¦ã—ã¾ã£ãŸéš›ã«ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã¨ã—ã¦å®Ÿè¡Œã•ã‚Œã¦ã—ã¾ã†ã¨ã€ä»–ã®ã‚³ãƒ¼ãƒ‰ã«ã‚‚å½±éŸ¿ã‚’åŠã¼ã™å¯èƒ½æ€§ãŒé«˜ããªã£ã¦ã—ã¾ã„ã¾ã™ã€‚

â€»ã€Œãªãœã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ãŒã„ã‘ãªã„ã®ï¼Ÿã¨ã€æ€ã£ãŸæ–¹ã¯ [ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã‚’ä¹±ç”¨ã—ãªã„](https://kenju.gitbooks.io/js_step-up-to-intermediate/content/content/part01/avoid_abusing_global_variables.html) ã‚„ã€ğŸ”° å¤‰æ•°ã€Chapterã‚’ä¸€èª­ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

### â‘¡`'use strict'` ã‚’åˆ©ç”¨ã—ãŸå ´åˆ
![](https://storage.googleapis.com/zenn-user-upload/dbda84b8378ce0a20f41aaf2.png)

`ReferenceError: text_b is not defined`
å‚ç…§ã‚¨ãƒ©ãƒ¼: text_bãŒå¤‰æ•°å®šç¾©ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€ã‚¨ãƒ©ãƒ¼ãŒè¿”ã‚Šã¾ã™ã€‚

`let`ã‚’åˆ©ç”¨ã—ã¦ã€å¤‰æ•°ã‚’å®šç¾©ã—ã¦ã‹ã‚‰å®Ÿè¡Œã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
![](https://storage.googleapis.com/zenn-user-upload/b80dfa2b7399ab3dc5576595.png)
æ­£ã—ãã€å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚

ã“ã®ã‚ˆã†ã«`'use strict'`ã‚’åˆ©ç”¨ã™ã‚‹ã¨é–‹ç™ºé€”ä¸­ã§ã€
ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ä¸€éƒ¨ã‚’æ•™ãˆã¦ãã‚Œã‚‹ãŸã‚ã€ã‚³ãƒ¼ãƒ‰ã‚’ç´ æ—©ãä¿®æ­£ã§ãã¾ã™ã€‚

## Strictãƒ¢ãƒ¼ãƒ‰ã®ã‚¹ã‚³ãƒ¼ãƒ—
æ¬¡ã¯ã€Strictãƒ¢ãƒ¼ãƒ‰ã®ã‚¹ã‚³ãƒ¼ãƒ—ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
ã‚¹ã‚³ãƒ¼ãƒ—(scope)ã¯ã€ã€Œç¯„å›²ã€è¦–é‡ã€ä½™åœ°ã€ã¨ã„ã£ãŸæ„å‘³ã‚’æŒã¤å˜èªã§ã™ã€‚
ã¤ã¾ã‚Šã€ã“ã“ã§ã¯Strictãƒ¢ãƒ¼ãƒ‰ã‚’é©ç”¨ã™ã‚‹ç¯„å›²ã‚’ã¿ã¦ã„ãã¾ã™ã€‚

Strictãƒ¢ãƒ¼ãƒ‰ã¯ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆå…¨ä½“ã«é©ç”¨ã™ã‚‹ã‹ã€ä¸€éƒ¨ã«é©ç”¨ã™ã‚‹ã‹ç¯„å›²ã‚’å¤‰ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã§ã¯ã€é©ç”¨æ–¹æ³•ã‚’ç¢ºèªã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

```js:å…¨ä½“ã«Strictãƒ¢ãƒ¼ãƒ‰
((){
  'use strict';
  let text = "ã“ã‚“ã«ã¡ã¯ï¼Strictãƒ¢ãƒ¼ãƒ‰ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼";
})();
```

```js:é–¢æ•°ã®ã¿Strictãƒ¢ãƒ¼ãƒ‰
((){
  function strict() {
    'use strict';
    return "ã“ã‚“ã«ã¡ã¯ï¼ Strict ãƒ¢ãƒ¼ãƒ‰ã®é–¢æ•°ã§ã™ï¼";
  }
})();
```

`function`ã®ä¸­ã«`'use strict';`ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã€‚
ã¤ã¾ã‚Šã€

```js:Strictãƒ¢ãƒ¼ãƒ‰ã®é–¢æ•°ã¨ã€éStrictãƒ¢ãƒ¼ãƒ‰ã®é–¢æ•°
((){
  function strict() {
    'use strict';
    return "ã“ã‚“ã«ã¡ã¯ï¼ Strict ãƒ¢ãƒ¼ãƒ‰ã®é–¢æ•°ã§ã™ï¼";
  }

  function non_strict() {
    return "ã“ã¡ã‚‰ã¯ã€Strictãƒ¢ãƒ¼ãƒ‰ã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼";
  }
})();
```

Strictãƒ¢ãƒ¼ãƒ‰ã®é–¢æ•°ã¨ã€éStrictãƒ¢ãƒ¼ãƒ‰ã®é–¢æ•°ã‚’æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚
ã“ã‚Œã¯ã€æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã¨ã®å…¼ã­åˆã„ã‚’è€ƒãˆã¦åˆ©ç”¨ã™ã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚

:::message
é–¢æ•°ã‚’exportã—ã¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦åˆ©ç”¨ã™ã‚‹å ´åˆã¯ã€
Strictãƒ¢ãƒ¼ãƒ‰ã®å®£è¨€ã®æœ‰ç„¡ã«ã‹ã‹ã‚ã‚‰ãšã€Strict ãƒ¢ãƒ¼ãƒ‰ã§å‹•ä½œã—ã¾ã™ã€‚
:::

## ç‰¹å¾´
Strictãƒ¢ãƒ¼ãƒ‰ã®å³æ ¼ãªãƒã‚§ãƒƒã‚¯å†…å®¹ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

:::details 1.ãƒŸã‚¹ã‚’ã‚¨ãƒ©ãƒ¼ã¨ã—ã¦è¿”ã™
```js: consoleã§å®Ÿè¡Œ
(() => {
  'use strict';
  mistypeVariable = 17;
})();

Uncaught ReferenceError: mistypeVariable is not defined
    at <anonymous>:3:19
    at <anonymous>:4:3
```
:::

:::details 2.ä¾‹å¤–ã‚’ç™ºç”Ÿã•ã›ã‚‹
```js: consoleã§å®Ÿè¡Œ
(() => {
  'use strict';
  // æ›¸ãæ›ãˆä¸å¯èƒ½ãªã‚°ãƒ­ãƒ¼ãƒãƒ«ã¸ã®ä»£å…¥
  undefined = 5; // TypeError(ä¾‹å¤–å‡¦ç†) ã‚’æŠ•ã’ã¾ã™
})();

VM290:4 Uncaught TypeError: Cannot assign to read only property 'undefined' of object '#<Window>'
    at <anonymous>:4:13
    at <anonymous>:5:3
```
:::

:::details 3.å‰Šé™¤ã§ããªã„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å‰Šé™¤æ“ä½œã«å¯¾ã—ã¦ã‚¨ãƒ©ãƒ¼
```js: consoleã§å®Ÿè¡Œ
(() => {
  'use strict';
  delete Object.prototype; // TypeError(ä¾‹å¤–å‡¦ç†) ã‚’æŠ•ã’ã¾ã™
})();

VM47:3 Uncaught TypeError: Cannot delete property 'prototype' of function Object() { [native code] }
    at <anonymous>:3:3
    at <anonymous>:4:3
```
:::

:::details 4.é–¢æ•°ã®å¼•æ•°åãŒä¸€æ„ã§ã‚ã‚‹ã“ã¨ã‚’å¿…é ˆ
```js: consoleã§å®Ÿè¡Œ
(() => {
  'use strict';
  function sum(a, a, c) { // !!! æ§‹æ–‡ã‚¨ãƒ©ãƒ¼
    'use strict';
    return a + a + c; // ã“ã®ã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã¨
  }
})();

Uncaught SyntaxError: Duplicate parameter name not allowed in this context
```
:::

:::details 5.ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å€¤ã«ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒç¦æ­¢

ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å€¤ = ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒãŸãªã„ãƒ‡ãƒ¼ã‚¿ã®ã“ã¨ã€‚
ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«immutableã€å¤‰æ›´ã§ããªã„å€¤ã®ã“ã¨ã€‚

(ä¾‹)
`'ãƒ†ã‚¹ãƒˆ'.length`
-> 3
`primitiveValue.length`
-> ä¸å¯èƒ½

```js: consoleã§å®Ÿè¡Œ
(() => {
  'use strict';
  false.true = '';         // TypeError
  (14).sailing = 'home';   // TypeError
  'with'.you = 'far away'; // TypeError
})();

Uncaught TypeError: Cannot create property 'true' on boolean 'false'
Uncaught TypeError: Cannot create property 'sailing' on number '14'
Uncaught TypeError: Cannot create property 'you' on string 'with'

```

:::

## ãƒ¡ãƒªãƒƒãƒˆ
- ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ä¸€éƒ¨ã‚’æ•™ãˆã¦ãã‚Œã‚‹
- ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’é«˜é€Ÿã«å®Ÿè¡Œã§ãã‚‹
- ã‚»ã‚­ãƒ¥ã‚¢ãªJavaScriptã‚³ãƒ¼ãƒ‰è¨˜è¿°

## æ³¨æ„ç‚¹
- Strictãƒ¢ãƒ¼ãƒ‰ã¯ã€å…¨ã¦ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„
- ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚ˆã£ã¦ã‚‚ç•°ãªã‚‹
	- https://caniuse.com/?search=use%20strict

## ã¾ã¨ã‚
`use strict` ã¯ã‚¨ãƒ©ãƒ¼è©²å½“ç®‡æ‰€ã‚’äº‹å‰ã«ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã€ã‚»ã‚­ãƒ¥ã‚¢ãªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒã§ãã‚‹ãŸã‚è¨˜è¼‰ã—ã¾ã—ã‚‡ã†ã€‚

- ã‚¹ã‚³ãƒ¼ãƒ—ã®ä½¿ã„åˆ†ã‘
  - ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒ•ã‚¡ã‚¤ãƒ«æ•°ãŒå°‘ãªã„æ™‚ã¯ å…¨ä½“ã‚¹ã‚³ãƒ¼ãƒ—ã§`use strict` ã‚’è¨˜è¼‰ã™ã‚‹ã€‚(æ¨å¥¨)
  - è¤‡æ•°ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é€£æºã•ã›ã‚‹è¤‡é›‘ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã«ãªã£ãŸéš›ã¯ã€Strictãƒ¢ãƒ¼ãƒ‰æœ‰ç„¡ãŒæ··åœ¨ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€ç‰¹å®šã®é–¢æ•°ã®ã¿ã«`use strict` ã‚’åˆ©ç”¨ã™ã‚‹ç­‰ã€Strictãƒ¢ãƒ¼ãƒ‰ã®ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æ¤œè¨ã™ã‚‹ã€‚

## ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ
- [x] kintoneã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®éš›ã«ã€`'use strict';`ã‚’æ›¸ã„ã¦ã„ã‚‹æ„å›³ãŒåˆ†ã‹ã£ãŸ
- [x] `'use strict';`ã®ã‚¹ã‚³ãƒ¼ãƒ—ã®é•ã„ãŒåˆ†ã‹ã£ãŸ